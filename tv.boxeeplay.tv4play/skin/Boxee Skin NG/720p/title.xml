<?xml version="1.0" encoding="utf-8" ?>
<window type="window" id="14001">
	<onload lang="python">
<![CDATA[
import mc
import tv4mc

mc.ShowDialogWait()
app = mc.GetApp()
config = app.GetLocalConfig()

parameters = app.GetLaunchedWindowParameters()
list = mc.GetActiveWindow().GetList(121)
id = parameters["id"]
if (config.GetValue("TitleId") != id or len(list.GetItems()) == 0):
    items = tv4mc.GetEpisodes(id)
    list.SetItems(items)
    config.SetValue("TitleId", id)

    if len(items) == 0:
        mc.ShowDialogOk("Det finns inga episoder", "Förmodligen är alla episoder premium-innehåll och kan inte visas.")
mc.HideDialogWait()
]]>
	</onload>
    <defaultcontrol always="true">121</defaultcontrol>
    <controls>
        <include>Common_Background</include>
        <include>Common_Status</include>

        <control type="label" id="122">
			<visible>Window.IsVisible(DialogProgress.xml)</visible>
            <posx>32</posx>
            <posy>32</posy>
            <width>320</width>
            <height>48</height>
            <textcolor>grey</textcolor>
            <label>Laddar in titlar</label>
        </control>

		<control type="panel" id="121">
            <content type="action">
				<onclick lang="python">
<![CDATA[
list = mc.GetActiveWindow().GetList(121)
index = list.GetFocusedItem()
item = list.GetItem(index)

mc.GetPlayer().Play(item)
]]>
				</onclick>
			</content>
			<visible>true</visible>
			<posx>10</posx>
			<posy>10</posy>
			<width>1200</width>
			<height>600</height>
            <pagecontrol></pagecontrol>
            <scrolltime>100</scrolltime>
            <preloaditems>4</preloaditems>
            <orientation>vertical</orientation>
			<orientation>horizontal</orientation>
			<itemlayout width="200" height="150">
                <control type="image">
                    <posx>16</posx>
                    <posy>5</posy>
                    <width>168</width>
                    <height>95</height>
                    <align>center</align>
                    <aligny>center</aligny>
                    <aspectratio align="left">keep</aspectratio>
                    <info>ListItem.Thumb</info>
                </control>
				<control type="label">
					<posx>16</posx>
					<posy>105</posy>
					<width>168</width>
					<height>50</height>
					<align>left</align>
					<aligny>top</aligny>
					<textcolor>grey</textcolor>
					<label>$INFO[ListItem.Label]</label>
				</control>
			</itemlayout>
			<focusedlayout width="200" height="150">
				<control type="image">
                    <posx>0</posx>
                    <posy>0</posy>
                    <width>200</width>
                    <height>150</height>
					<texture>focused-item.png</texture>
				</control>
                <control type="image">
                    <posx>16</posx>
                    <posy>5</posy>
                    <width>168</width>
                    <height>95</height>
                    <align>center</align>
                    <aligny>center</aligny>
                    <aspectratio align="left">keep</aspectratio>
                    <info>ListItem.Thumb</info>
                </control>
				<control type="label">
					<posx>16</posx>
					<posy>105</posy>
					<width>168</width>
					<height>50</height>
					<align>left</align>
					<aligny>top</aligny>
					<textcolor>white</textcolor>
					<label>$INFO[ListItem.Label]</label>
				</control>
			</focusedlayout>
		</control>

		<!-- selected item details panel -->
            <control type="label">
				<visible>Control.HasFocus(121)</visible>
                <posx>32</posx>
                <posy>640</posy>
                <width>1200</width>
                <height>70</height>
                <textcolor>grey</textcolor>
                <label>[B]$INFO[Container(121).ListItem.Label][/B] $INFO[Container(121).ListItem.property(description)]</label>
                <wrapmultiline>true</wrapmultiline>
            </control>
    </controls>
</window>

